/* App-specific styles */

/* Sticky footer layout */
.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  max-height: 100vh;
  overflow: hidden;
}

.main-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable; /* Prevent layout shift from scrollbar */
}

/* Fix Fluent UI portal overlay blocking page content */
[data-portal-node="true"] {
  pointer-events: none !important;
  background: transparent !important;
}

[data-portal-node="true"] > * {
  pointer-events: auto;
}

/* Ensure portal overlays don't hide content */
.fui-FluentProvider[data-portal-node="true"] {
  pointer-events: none !important;
  background: transparent !important;
}

.fui-FluentProvider[data-portal-node="true"] > * {
  pointer-events: auto;
}

/* ==========================================================================
   RSuite DatePicker Dark Theme Overrides
   These styles apply when the app is in dark mode (body.dark-theme)
   The popup calendar is rendered in a portal outside the React tree,
   so we use a body class to target RSuite components in dark mode.
   ========================================================================== */

/* Dark theme colors matching Fluent UI webDarkTheme */
body.dark-theme {
  /* RSuite CSS variable overrides for dark mode */
  --rs-bg-card: #292929;
  --rs-bg-overlay: #292929;
  --rs-bg-well: #1f1f1f;
  --rs-bg-active: #0078d4;
  --rs-text-primary: #ffffff;
  --rs-text-secondary: #d6d6d6;
  --rs-text-tertiary: #adadad;
  --rs-text-heading: #ffffff;
  --rs-text-inverse: #000000;
  --rs-text-disabled: #5c5c5c;
  --rs-text-link: #479ef5;
  --rs-text-link-hover: #62abf5;
  --rs-border-primary: #484848;
  --rs-border-secondary: #383838;
  --rs-state-hover-bg: #383838;
  --rs-input-bg: #292929;
  --rs-input-focus-border: #0078d4;
  --rs-input-disabled-bg: #1f1f1f;
  --rs-picker-value: #479ef5;
}

/* RSuite DatePicker popup - dark theme styling */
body.dark-theme .rs-picker-popup {
  background-color: var(--rs-bg-card) !important;
  border-color: var(--rs-border-primary) !important;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.28) !important;
}

/* Calendar header */
body.dark-theme .rs-picker-popup .rs-calendar-header-title {
  color: var(--rs-text-heading) !important;
}

body.dark-theme .rs-picker-popup .rs-calendar-header-backward,
body.dark-theme .rs-picker-popup .rs-calendar-header-forward {
  color: var(--rs-text-secondary) !important;
}

body.dark-theme .rs-picker-popup .rs-calendar-header-backward:hover,
body.dark-theme .rs-picker-popup .rs-calendar-header-forward:hover {
  background-color: var(--rs-state-hover-bg) !important;
}

/* Calendar weekday headers */
body.dark-theme .rs-picker-popup .rs-calendar-table-header-row .rs-calendar-table-cell-content {
  color: var(--rs-text-secondary) !important;
}

/* Calendar date cells */
body.dark-theme .rs-picker-popup .rs-calendar-table-cell-content {
  color: var(--rs-text-primary) !important;
}

body.dark-theme .rs-picker-popup .rs-calendar-table-cell:hover .rs-calendar-table-cell-content {
  background-color: var(--rs-state-hover-bg) !important;
}

/* Selected date cell */
body.dark-theme .rs-picker-popup .rs-calendar-table-cell-selected .rs-calendar-table-cell-content {
  background-color: var(--rs-bg-active) !important;
  color: var(--rs-text-primary) !important;
}

/* Disabled date cells */
body.dark-theme .rs-picker-popup .rs-calendar-table-cell-disabled .rs-calendar-table-cell-content {
  color: var(--rs-text-disabled) !important;
  background-color: transparent !important;
}

/* Dates from other months */
body.dark-theme .rs-picker-popup .rs-calendar-table-cell-other-month .rs-calendar-table-cell-content {
  color: var(--rs-text-disabled) !important;
}

/* Month/Year dropdown */
body.dark-theme .rs-picker-popup .rs-calendar-month-dropdown {
  background-color: var(--rs-bg-card) !important;
  border-color: var(--rs-border-primary) !important;
}

body.dark-theme .rs-picker-popup .rs-calendar-month-dropdown-cell-content {
  color: var(--rs-text-primary) !important;
}

body.dark-theme .rs-picker-popup .rs-calendar-month-dropdown-cell:hover .rs-calendar-month-dropdown-cell-content,
body.dark-theme .rs-picker-popup .rs-calendar-month-dropdown-cell-active .rs-calendar-month-dropdown-cell-content {
  background-color: var(--rs-state-hover-bg) !important;
}

/* Today/Yesterday buttons at bottom */
body.dark-theme .rs-picker-popup .rs-picker-toolbar {
  border-top-color: var(--rs-border-primary) !important;
}

body.dark-theme .rs-picker-popup .rs-picker-toolbar button {
  color: var(--rs-text-link) !important;
}

body.dark-theme .rs-picker-popup .rs-picker-toolbar button:disabled {
  color: var(--rs-text-disabled) !important;
}

body.dark-theme .rs-picker-popup .rs-picker-toolbar button:hover:not(:disabled) {
  color: var(--rs-text-link-hover) !important;
}
